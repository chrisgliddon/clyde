# ld65 linker config — LoROM 256KB SNES ROM (4 banks)
# Bank 0: $008000-$00FFFF — code + small RODATA
# Bank 1: $018000-$01FFFF — audio data
# Bank 2: $028000-$02FFFF — graphics data
# Bank 3: $038000-$03FFFF — reserved (empty)
# Header at CPU $FFC0, vectors at CPU $FFE0

MEMORY {
    ZEROPAGE:   start = $60,     size = $A0,    type = rw, file = "";
    LORAM:      start = $0200,   size = $1E00,  type = rw, file = "";
    ROM0:       start = $8000,   size = $7FC0,  type = ro, file = %O, fill = yes, fillval = $00;
    ROMHDR:     start = $FFC0,   size = $40,    type = ro, file = %O, fill = yes, fillval = $00;
    ROM1:       start = $018000, size = $8000,  type = ro, file = %O, fill = yes, fillval = $00;
    ROM2:       start = $028000, size = $8000,  type = ro, file = %O, fill = yes, fillval = $00;
    ROM3:       start = $038000, size = $8000,  type = ro, file = %O, fill = yes, fillval = $00;
    SRAM:       start = $700000, size = $2000,  type = rw, file = "";
}

SEGMENTS {
    ZEROPAGE:   load = ZEROPAGE, type = zp;
    BSS:        load = LORAM,    type = bss;
    CODE:       load = ROM0,     type = ro;
    RODATA:     load = ROM0,     type = ro;
    HEADER:     load = ROMHDR,   type = ro;
    VECTORS:    load = ROMHDR,   type = ro,  start = $FFE0;
    AUDIODATA:  load = ROM1,     type = ro;
    GFXDATA:    load = ROM2,     type = ro;
    SRAM_DATA:  load = SRAM,     type = bss;
}
